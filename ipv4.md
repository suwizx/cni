# ipv4

### ตาราง Subnet IP ที่ใช้บ่อย (IPv4)

| CIDR | Subnet Mask | จำนวน IP ทั้งหมด | จำนวน Host ที่ใช้ได้ | การนำไปใช้งานส่วนใหญ่ |
| --- | --- | --- | --- | --- |
| **/32** | 255.255.255.255 | 1 | 1 | ใช้ระบุตำแหน่ง IP เดียว (Loopback / Host) |
| **/30** | 255.255.255.252 | 4 | **2** | เชื่อมต่อระหว่าง Router 2 ตัว (Point-to-Point) |
| **/29** | 255.255.255.248 | 8 | **6** | Network ขนาดเล็กมาก หรือ Public IP สำหรับ Server |
| **/28** | 255.255.255.240 | 16 | **14** | แผนกขนาดเล็กในบริษัท |
| **/27** | 255.255.255.224 | 32 | **30** | Network ย่อยสำหรับกลุ่มงานเฉพาะทาง |
| **/26** | 255.255.255.192 | 64 | **62** | Network ขนาดกลาง |
| **/24** | 255.255.255.0 | 256 | **254** | **มาตรฐานที่ใช้บ่อยที่สุด** (Home/Office ทั่วไป) |
| **/23** | 255.255.254.0 | 512 | **510** | ขยาย Network ให้รองรับอุปกรณ์มากขึ้น |
| **/22** | 255.255.252.0 | 1,024 | **1,022** | องค์กรขนาดใหญ่ หรือวง Wi-Fi สาธารณะ |
| **/16** | 255.255.0.0 | 65,536 | **65,534** | เครือข่ายระดับองค์กรใหญ่ (Core Network) |

---

### วิธีการคำนวณเบื้องต้น

ในการคำนวณหาจำนวน Host ที่ใช้งานได้จริง เราจะใช้สูตรทางคณิตศาสตร์ดังนี้ครับ:

2(32−n)−2

- **n** คือค่า CIDR (เช่น 24, 25, 26)
- **2** เพราะเราต้องหักออก 2 Address คือ:
    1. **Network Address:** IP แรกของวง (ใช้ระบุตัวตนของ Network)
    2. **Broadcast Address:** IP สุดท้ายของวง (ใช้ส่งข้อมูลหาทุกคนในวง)

### ข้อสังเกตเพิ่มเติม

- **ยิ่งเลข CIDR มากขึ้น (เช่น /30):** วง Network จะยิ่งเล็กลง (มี IP ให้ใช้น้อย)
- **ยิ่งเลข CIDR น้อยลง (เช่น /16):** วง Network จะยิ่งใหญ่ขึ้น (มี IP ให้ใช้มหาศาล)
- **Default Class:**
    - Class A: /8
    - Class B: /16
    - Class C: /24

---

**ตาราง Subnet พร้อมช่วง IP (ตัวอย่างบนวง 192.168.1.0)**

| **CIDR** | **Subnet Mask** | **Wildcard** | **จำนวน Host** | **ตัวอย่างช่วง IP ที่ใช้งานได้ (Usable Range)** |
| --- | --- | --- | --- | --- |
| **/30** | 255.255.255.252 | 0.0.0.3 | 2 | 192.168.1.1 - 192.168.1.2 |
| **/29** | 255.255.255.248 | 0.0.0.7 | 6 | 192.168.1.1 - 192.168.1.6 |
| **/28** | 255.255.255.240 | 0.0.0.15 | 14 | 192.168.1.1 - 192.168.1.14 |
| **/27** | 255.255.255.224 | 0.0.0.31 | 30 | 192.168.1.1 - 192.168.1.30 |
| **/26** | 255.255.255.192 | 0.0.0.63 | 62 | 192.168.1.1 - 192.168.1.62 |
| **/24** | 255.255.255.0 | 0.0.0.255 | 254 | 192.168.1.1 - 192.168.1.254 |

**ตัวอย่างการคำนวณ Private IP**
สมมติว่าคุณต้องการแบ่ง Network สำหรับแผนกหนึ่ง โดยเลือกใช้ **172.16.10.0 /26**
**โจทย์:** จงหา Subnet Mask, Network ID, Broadcast ID และช่วง IP ที่ใช้งานได้
**1. หา Subnet Mask**
ค่า **/26** หมายถึงมีเลข `1` ทั้งหมด 26 ตัวในฐานสอง (จาก 32 ตัว)
• เขียนเป็นฐานสอง: `11111111.11111111.11111111.11000000`
• แปลงเป็นฐานสิบ: **255.255.255.192
2. หาจำนวน IP ทั้งหมด**
ใช้สูตร $2^{(32 - 26)} = 2^6 = 64$
• ดังนั้นใน 1 Subnet จะมีทั้งหมด **64 IP
3. แบ่งช่วง (Range)**
เริ่มนับจาก .0 ไปทีละ 64:
• **Network ID:** **172.16.10.0** (ตัวแรกสุดเสมอ)
• **Usable IP Start:** **172.16.10.1** (ถัดจาก Network ID)
• **Usable IP End:** **172.16.10.62** (ก่อนหน้า Broadcast)
• **Broadcast Address:** **172.16.10.63** (ตัวสุดท้ายของบล็อก 64 ตัว)
**สรุป Private IP Address Ranges (RFC 1918)**
ที่คุณเห็นบ่อยๆ จะมีอยู่ 3 Class หลักที่ได้รับอนุญาตให้ใช้ภายในบ้านหรือองค์กรครับ:
1. **Class A:** `10.0.0.0` ถึง `10.255.255.255`
2. **Class B:** `172.16.0.0` ถึง `172.31.255.255`
3. **Class C:** `192.168.0.0` ถึง `192.168.255.255`